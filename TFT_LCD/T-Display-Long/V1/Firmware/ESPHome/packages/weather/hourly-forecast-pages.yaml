# =============================================================================
# HALO v1 - Hourly Forecast Pages (Phase 3)
# =============================================================================
#
# This package contains all 8 hourly forecast pages:
#   - hourly_forecast_page (Hours 1-3)
#   - hourly_forecast_page_2 (Hours 4-6)
#   - hourly_forecast_page_3 (Hours 7-9)
#   - hourly_forecast_page_4 (Hours 10-12)
#   - hourly_forecast_page_5 (Hours 13-15)
#   - hourly_forecast_page_6 (Hours 16-18)
#   - hourly_forecast_page_7 (Hours 19-21)
#   - hourly_forecast_page_8 (Hours 22-24)
#
# These pages display detailed hourly weather forecasts with navigation.
#
# Dependencies:
#   - packages/base/globals.yaml (hourly weather arrays)
#   - Weather fetch scripts (for data)
#   - update_hourly_page_* scripts
#
# =============================================================================

display:
  - platform: axs15231
    pages:
      - id: hourly_forecast_page
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 100ms  # Increased delay to allow memory to stabilize after cleanup
          # Force garbage collection to free up memory before rendering
          - lambda: |-
              ESP_LOGI("memory", "Before hourly page load - Free heap: %d bytes", esp_get_free_heap_size());
          # Check if we have data and if it needs refresh
          - if:
              condition:
                lambda: |-
                    // Check if hourly forecast needs refresh (stale > 15 minutes)
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                
                    if (is_stale) {
                    ESP_LOGI("weather", "Hourly forecast is stale (age: %u minutes), fetching in background...",
                             id(weather_hourly_last_update) == 0 ? 0 : time_since_update / 60000);
                    return true;
                    } else {
                    ESP_LOGD("weather", "Hourly forecast is fresh (updated %u minutes ago)", time_since_update / 60000);
                    return false;
                    }
              then:
                # Fetch will update display when complete (no need to call update_hourly_forecast_display here)
                - script.execute: fetch_hourly_forecast
              else:
                # Data is fresh, update display with existing data
                - delay: 50ms  # Additional delay before rendering
                - script.execute: update_hourly_page_1  # Lazy loading: only update hours 1-3
        widgets:
          # Page Header
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER

          # Hour 1 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour1_header
                    text: "Hour +1"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour1_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour1_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Direction:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour1_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 2 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour2_header
                    text: "Hour +2"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour2_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour2_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Direction:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour2_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 3 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour3_header
                    text: "Hour +3"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour3_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour3_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Direction:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour3_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Center navigation button - click to go to hours 4-6
          - obj:
              id: nav_button_hourly_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 1 CENTER button RELEASED - going to page 2!"
                - lambda: |-
                    ESP_LOGI("touch", "Navigation button touched");
                    id(last_auto_rotation_time) = millis();
                    ESP_LOGD("touch", "Auto-rotation timer reset");
                - lvgl.page.show:
                    id: hourly_forecast_page_2
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page nav button RELEASED!"
                - lambda: |-
                    ESP_LOGI("touch", "Navigation button touched");
                    id(last_auto_rotation_time) = millis();
                    ESP_LOGD("touch", "Auto-rotation timer reset");
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms

      # Hourly Forecast Page 2 (Hours 4-6)
      - id: hourly_forecast_page_2
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_2  # Lazy loading: only update hours 4-6
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER

          # Hour 4 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour4_header
                    text: "Hour +4"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour4_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour4_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Direction:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour4_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 5 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour5_header
                    text: "Hour +5"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour5_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour5_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Direction:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour5_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 6 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour6_header
                    text: "Hour +6"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour6_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour6_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Direction:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour6_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Center navigation button - click to go back to hours 1-3
          - obj:
              id: nav_button_hourly_page2_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 2 CENTER button RELEASED - going to page 3!"
                - lambda: |-
                    ESP_LOGI("touch", "Navigation button touched");
                    id(last_auto_rotation_time) = millis();
                    ESP_LOGD("touch", "Auto-rotation timer reset");
                - lvgl.page.show:
                    id: hourly_forecast_page_3
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly_page2
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 2 nav button RELEASED!"
                - lambda: |-
                    ESP_LOGI("touch", "Navigation button touched");
                    id(last_auto_rotation_time) = millis();
                    ESP_LOGD("touch", "Auto-rotation timer reset");
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms

      - id: hourly_forecast_page_3
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_3  # Lazy loading: only update hours 7-9
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER

          # Hour 7 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour7_header
                    text: "Hour +7"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour7_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour7_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour7_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 8 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour8_header
                    text: "Hour +8"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour8_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour8_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour8_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 9 Card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour9_header
                    text: "Hour +9"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour9_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour9_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour9_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Center nav to page 4
          - obj:
              id: nav_button_hourly_page3_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 3 CENTER button RELEASED - going to page 4!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.show:
                    id: hourly_forecast_page_4
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right nav back/next
          - obj:
              id: nav_button_hourly_page3
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 3 nav button RELEASED!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms

      - id: hourly_forecast_page_4
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_4  # Lazy loading: only update hours 10-12
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER
          # Hour 10 Card (index 9)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour10_header
                    text: "Hour +10"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour10_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour10_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour10_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 11 Card (index 10)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour11_header
                    text: "Hour +11"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour11_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour11_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour11_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 12 Card (index 11)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour12_header
                    text: "Hour +12"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour12_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour12_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour12_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Center navigation button - click to go to page 5
          - obj:
              id: nav_button_hourly_page4_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 4 CENTER button RELEASED - going to page 5!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.show:
                    id: hourly_forecast_page_5
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly_page4
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 4 nav button RELEASED!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms
  
      - id: hourly_forecast_page_5
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_5  # Lazy loading: only update hours 13-15
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER
          # Hour 13 card
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour13_header
                    text: "Hour +13"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour13_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour13_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour13_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 14 Card (index 13)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour14_header
                    text: "Hour +14"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour14_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour14_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour14_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 15 Card (index 14)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour15_header
                    text: "Hour +15"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour15_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour15_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour15_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Center navigation button - click to go to page 6
          - obj:
              id: nav_button_hourly_page5_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 5 CENTER button RELEASED - going to page 6!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.show:
                    id: hourly_forecast_page_6
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly_page5
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 5 nav button RELEASED!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms

      - id: hourly_forecast_page_6
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_6  # Lazy loading: only update hours 16-24
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER

          # Hour 16 Card (index 15)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour16_header
                    text: "Hour +16"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour16_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour16_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour16_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 17 Card (index 16)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour17_header
                    text: "Hour +17"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour17_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour17_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour17_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 18 Card (index 17)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour18_header
                    text: "Hour +18"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour18_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour18_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour18_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
        

          # Center navigation button - click to go to page 7
          - obj:
              id: nav_button_hourly_page6_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 6 CENTER button RELEASED - going to page 7!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.show:
                    id: hourly_forecast_page_7
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly_page6
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 6 nav button RELEASED!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms


      - id: hourly_forecast_page_7
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_7  # Lazy loading: only update hours 19-21
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER

          # Hour 19 Card (index 18)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour19_header
                    text: "Hour +19"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour19_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour19_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour19_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 20 Card (index 19)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour20_header
                    text: "Hour +20"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour20_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour20_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour20_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 21 Card (index 20)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour21_header
                    text: "Hour +21"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour21_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour21_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour21_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white


          # Center navigation button - click to go to page 8
          - obj:
              id: nav_button_hourly_page7_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 7 CENTER button RELEASED - going to page 8!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.show:
                    id: hourly_forecast_page_8
                    animation: OUT_LEFT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly_page7
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 7 nav button RELEASED!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms


      - id: hourly_forecast_page_8
        skip: true
        bg_color: 0x000000
        bg_opa: COVER
        scrollbar_mode: "OFF"
        on_load:
          - script.execute: page_transition_cleanup
          - lambda: 'id(current_page_name) = "hourly_forecast";'
          - delay: 10ms
          - if:
              condition:
                lambda: |-
                    uint32_t time_since_update = millis() - id(weather_hourly_last_update);
                    bool is_stale = (id(weather_hourly_last_update) == 0 || time_since_update > 900000);
                    return is_stale;
              then:
                - script.execute: fetch_hourly_forecast
              else:
                - delay: 50ms
                - script.execute: update_hourly_page_8  # Lazy loading: only update hours 22-24
        widgets:
          - label:
              text: "Hourly Forecast"
              align: TOP_MID
              y: 5
              text_font: montserrat_18
              text_color: my_white
              text_align: CENTER

          # Hour 22 Card (index 21)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 35
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour22_header
                    text: "Hour +22"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour22_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour22_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour22_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 23 Card (index 22)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 245
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour23_header
                    text: "Hour +23"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour23_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour23_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour23_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white

          # Hour 24 Card (index 23)
          - obj:
              width: 170
              height: SIZE_CONTENT
              align: TOP_MID
              y: 455
              bg_color: 0x101010
              bg_opa: COVER
              border_width: 0
              radius: 8
              pad_all: 6
              scrollbar_mode: "OFF"
              layout:
                type: flex
                flex_flow: column
                pad_row: 2
              widgets:
                - label:
                    id: lbl_hourly_hour24_header
                    text: "Hour +24"
                    text_font: montserrat_14
                    text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          id: lbl_hourly_hour24_icon
                          text: "\U000F14E4"
                          text_font: icons_40
                          text_color: my_white
                      - label:
                          id: lbl_hourly_hour24_temp
                          text: "--°"
                          text_font: montserrat_24
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Feels:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_feels
                          text: "--°"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Humid:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_humid
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Precip:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_precip
                          text: "--%"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Amt:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_precip_amt
                          text: "-- in"
                          text_font: montserrat_10
                          text_color: my_teal
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Pressure:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_pressure
                          text: "-- mb"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "UV:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_uv
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Wind:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_wind
                          text: "-- mph"
                          text_font: montserrat_10
                          text_color: my_white
                - obj:
                    width: 100%
                    height: SIZE_CONTENT
                    bg_opa: 0
                    border_width: 0
                    pad_all: 0
                    layout:
                      type: flex
                      flex_flow: row
                      flex_align_main: SPACE_BETWEEN
                    widgets:
                      - label:
                          text: "Dir:"
                          text_font: montserrat_10
                          text_color: my_gray
                      - label:
                          id: lbl_hourly_hour24_wind_dir
                          text: "--"
                          text_font: montserrat_10
                          text_color: my_white


          # Center navigation button - click to go back to page 1
          - obj:
              id: nav_button_hourly_page8_center
              align: CENTER
              width: 150
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly page 8 CENTER button RELEASED - going back to page 1!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.show:
                    id: hourly_forecast_page
                    animation: OUT_RIGHT
                    time: 300ms

          # Top-right navigation button - normal page rotation
          - obj:
              id: nav_button_hourly_page8
              align: TOP_RIGHT
              x: 0
              y: 0
              width: 180
              height: 150
              bg_opa: 0
              border_width: 0
              clickable: true
              on_release:
                - logger.log: "Hourly Forecast page 8 nav button RELEASED!"
                - lambda: |-
                    id(last_auto_rotation_time) = millis();
                - lvgl.page.next:
                    animation: OUT_LEFT
                    time: 300ms

