# Weather Pages Package
# Provides LVGL page definitions for weather displays
#
# Usage (in Halo-v1-Core.yaml LVGL display pages section):
#   pages:
#     - !include packages/weather-pages.yaml
#
# This package provides:
#   - Weather Forecast Page (page index 3) - Current day forecast with condition icon
#   - Hourly Forecast Page (page index 4) - 6-hour forecast display
#   - Daily Forecast Page (page index 5) - 10-day forecast overview
#
# Dependencies:
#   - Requires weather-core.yaml for scripts and globals
#   - Requires weather-sensors.yaml for all weather data
#   - Requires weather-fonts-text.yaml for icon fonts and text sensors
#   - Requires LVGL fonts and colors defined in main config
#   - Requires page_transition_cleanup script
#   - Requires current_page_index global
#
# NOTE: This file contains ONLY the page definitions (items in pages list).
#       Fonts and text sensors are in weather-fonts-text.yaml package.


- id: weather_forecast_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  on_load:
    - script.execute: page_transition_cleanup
    - lambda: |-
        id(current_page_index) = 3;  // weather_forecast_page
        id(weather_last_condition).clear();
    - script.execute: update_weather_icon_color
  widgets:
    # Large weather condition icon at top
    - label:
        text: "\U000F14E4"
        id: lbl_weather_forecast_condition_icon
        text_font: icons_100
        text_align: CENTER
        text_color: my_white
        align: TOP_MID
        x: 0
        y: 10

    # Condition name below icon
    - label:
        text: "Unknown"
        id: lbl_weather_forecast_condition_name
        text_align: CENTER
        text_font: montserrat_20
        text_color: my_white
        align: TOP_MID
        x: 0
        y: 120

    # Semicircle meter gauge for apparent temperature
    - obj:
        align: CENTER
        x: 0
        y: 100
        width: 180
        height: 180
        bg_color: 0x000000
        border_width: 0
        pad_all: 10
        widgets:
          - meter:
              id: weather_temp_gauge
              height: 100%
              width: 100%
              border_width: 0
              align: CENTER
              bg_opa: TRANSP
              scales:
                - range_from: 0
                  range_to: 100
                  angle_range: 180
                  rotation: 180
                  ticks:
                    count: 51
                    width: 2
                    length: 10
                    color: 0x404040
                  indicators:
                    - tick_style:
                        start_value: 0
                        end_value: 100
                        color_start: 0x0099FF
                        color_end: 0xFF6600
                - range_from: 0
                  range_to: 100
                  angle_range: 180
                  rotation: 180
                  ticks:
                    count: 0
                  indicators:
                    - line:
                        id: weather_temp_needle
                        width: 8
                        r_mod: 2
                        value: 50
                        color: 0xFF0000
          - obj:
              height: 100
              width: 100
              radius: 50
              align: CENTER
              border_width: 0
              bg_color: 0x000000

    # Current apparent temperature in center of gauge
    - label:
        text: "--°"
        id: lbl_weather_today_tempap
        text_align: CENTER
        text_font: montserrat_28
        text_color: my_white
        align: CENTER
        x: 0
        y: 120

    # "Feels Like" label above temp
    - label:
        text: "Feels Like"
        text_align: CENTER
        text_font: montserrat_14
        text_color: my_gray
        align: CENTER
        x: 0
        y: 95

    # Low temp stacked above gauge
    - label:
        text: "L: --°"
        id: lbl_weather_forecast_templo
        text_align: CENTER
        text_font: montserrat_28
        text_color: my_teal
        align: CENTER
        x: 0
        y: -35

    # High temp stacked above low temp
    - label:
        text: "H: --°"
        id: lbl_weather_forecast_temphi
        text_align: CENTER
        text_font: montserrat_28
        text_color: my_red
        align: CENTER
        x: 0
        y: -70

    # Today precipitation amt
    - label:
        text: "Amt Today: -- in"
        id: lbl_weather_precipitation_today
        text_align: CENTER
        text_font: montserrat_18
        text_color: my_teal
        align: BOTTOM_MID
        x: 0
        y: -80

    # Precipitation Chnace
    - label:
        text: "Chance: --%"
        id: lbl_weather_today_dailyprecipprob
        text_align: CENTER
        text_font: montserrat_18
        text_color: my_teal
        align: BOTTOM_MID
        x: 0
        y: -55

    # Current temperature at bottom
    - label:
        text: "Now:"
        text_align: CENTER
        text_font: montserrat_14
        text_color: my_gray
        align: BOTTOM_MID
        x: 0
        y: -30

    - label:
        text: "--.- °C"
        id: lbl_weather_today_outdoor_temp
        text_align: CENTER
        text_font: montserrat_20
        text_color: my_white
        align: BOTTOM_MID
        x: 0
        y: -5
    - obj:
        id: nav_button_weather
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Weather page nav button PRESSED!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

# TODO: Extract and paste hourly_forecast_page here (lines ~5491-6835)
# - id: hourly_forecast_page
#   bg_color: 0x000000
#   ...
- id: hourly_forecast_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  on_load:
    - script.execute: page_transition_cleanup
    - lambda: 'id(current_page_index) = 4;'  # hourly_forecast_page
  widgets:
    # Page Header
    - label:
        text: "6-Hour Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Hour 1 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 35
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 8
        pad_all: 6
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 2
        widgets:
          - label:
              id: lbl_hourly_hour1_header
              text: "Hour +1"
              text_font: montserrat_14
              text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    id: lbl_hourly_hour1_icon
                    text: "--"
                    text_font: icons_40
                    text_color: my_white
                - label:
                    id: lbl_hourly_hour1_temp
                    text: "--°"
                    text_font: montserrat_24
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Feels:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_feels
                    text: "--°"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Humid:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_humid
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Precip:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_precip
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Amt:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_precip_amt
                    text: "-- in"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Pressure:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_pressure
                    text: "-- mb"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "UV:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_uv
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Wind:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_wind
                    text: "-- mph"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Direction:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour1_wind_dir
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white

    # Hour 2 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 245
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 8
        pad_all: 6
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 2
        widgets:
          - label:
              id: lbl_hourly_hour2_header
              text: "Hour +2"
              text_font: montserrat_14
              text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    id: lbl_hourly_hour2_icon
                    text: "--"
                    text_font: icons_40
                    text_color: my_white
                - label:
                    id: lbl_hourly_hour2_temp
                    text: "--°"
                    text_font: montserrat_24
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Feels:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_feels
                    text: "--°"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Humid:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_humid
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Precip:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_precip
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Amt:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_precip_amt
                    text: "-- in"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Pressure:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_pressure
                    text: "-- mb"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "UV:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_uv
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Wind:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_wind
                    text: "-- mph"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Direction:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour2_wind_dir
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white

    # Hour 3 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 455
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 8
        pad_all: 6
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 2
        widgets:
          - label:
              id: lbl_hourly_hour3_header
              text: "Hour +3"
              text_font: montserrat_14
              text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    id: lbl_hourly_hour3_icon
                    text: "--"
                    text_font: icons_40
                    text_color: my_white
                - label:
                    id: lbl_hourly_hour3_temp
                    text: "--°"
                    text_font: montserrat_24
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Feels:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_feels
                    text: "--°"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Humid:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_humid
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Precip:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_precip
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Amt:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_precip_amt
                    text: "-- in"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Pressure:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_pressure
                    text: "-- mb"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "UV:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_uv
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Wind:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_wind
                    text: "-- mph"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Direction:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour3_wind_dir
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white

    # Center navigation button - click to go to hours 4-6
    - obj:
        id: nav_button_hourly_center
        align: CENTER
        width: 150
        height: 150
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Hourly page 1 CENTER button PRESSED - going to page 2!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.show:
              id: hourly_forecast_page_2
              animation: OUT_LEFT
              time: 300ms

    # Top-right navigation button - normal page rotation
    - obj:
        id: nav_button_hourly
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Hourly Forecast page nav button PRESSED!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

# Hourly Forecast Page 2 - Hours 4-6
- id: hourly_forecast_page_2
  skip: true
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  on_load:
    - script.execute: page_transition_cleanup
    - lambda: 'id(current_page_index) = 4;'  # Same as hourly_forecast_page
  widgets:
    # Page Header
    - label:
        text: "6-Hour Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Hour 4 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 35
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 8
        pad_all: 6
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 2
        widgets:
          - label:
              id: lbl_hourly_hour4_header
              text: "Hour +4"
              text_font: montserrat_14
              text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    id: lbl_hourly_hour4_icon
                    text: "--"
                    text_font: icons_40
                    text_color: my_white
                - label:
                    id: lbl_hourly_hour4_temp
                    text: "--°"
                    text_font: montserrat_24
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Feels:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_feels
                    text: "--°"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Humid:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_humid
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Precip:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_precip
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Amt:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_precip_amt
                    text: "-- in"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Pressure:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_pressure
                    text: "-- mb"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "UV:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_uv
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Wind:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_wind
                    text: "-- mph"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Direction:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour4_wind_dir
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white

    # Hour 5 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 245
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 8
        pad_all: 6
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 2
        widgets:
          - label:
              id: lbl_hourly_hour5_header
              text: "Hour +5"
              text_font: montserrat_14
              text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    id: lbl_hourly_hour5_icon
                    text: "--"
                    text_font: icons_40
                    text_color: my_white
                - label:
                    id: lbl_hourly_hour5_temp
                    text: "--°"
                    text_font: montserrat_24
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Feels:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_feels
                    text: "--°"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Humid:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_humid
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Precip:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_precip
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Amt:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_precip_amt
                    text: "-- in"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Pressure:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_pressure
                    text: "-- mb"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "UV:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_uv
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Wind:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_wind
                    text: "-- mph"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Direction:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour5_wind_dir
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white

    # Hour 6 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 455
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 8
        pad_all: 6
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 2
        widgets:
          - label:
              id: lbl_hourly_hour6_header
              text: "Hour +6"
              text_font: montserrat_14
              text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    id: lbl_hourly_hour6_icon
                    text: "--"
                    text_font: icons_40
                    text_color: my_white
                - label:
                    id: lbl_hourly_hour6_temp
                    text: "--°"
                    text_font: montserrat_24
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Feels:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_feels
                    text: "--°"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Humid:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_humid
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Precip:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_precip
                    text: "--%"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Amt:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_precip_amt
                    text: "-- in"
                    text_font: montserrat_10
                    text_color: my_teal
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Pressure:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_pressure
                    text: "-- mb"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "UV:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_uv
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Wind:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_wind
                    text: "-- mph"
                    text_font: montserrat_10
                    text_color: my_white
          - obj:
              width: 100%
              height: SIZE_CONTENT
              bg_opa: 0
              border_width: 0
              pad_all: 0
              layout:
                type: flex
                flex_flow: row
                flex_align_main: SPACE_BETWEEN
              widgets:
                - label:
                    text: "Direction:"
                    text_font: montserrat_10
                    text_color: my_gray
                - label:
                    id: lbl_hourly_hour6_wind_dir
                    text: "--"
                    text_font: montserrat_10
                    text_color: my_white

    # Center navigation button - click to go back to hours 1-3
    - obj:
        id: nav_button_hourly_page2_center
        align: CENTER
        width: 150
        height: 150
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Hourly page 2 CENTER button PRESSED - going to page 1!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.show:
              id: hourly_forecast_page
              animation: OUT_RIGHT
              time: 300ms

    # Top-right navigation button - normal page rotation
    - obj:
        id: nav_button_hourly_page2
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Hourly Forecast page 2 nav button PRESSED!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

# TODO: Extract and paste daily_forecast_page here (lines ~6833-7590+)
# - id: daily_forecast_page
#   bg_color: 0x000000
#   ...
- id: daily_forecast_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  on_load:
    - script.execute: page_transition_cleanup
    - lambda: 'id(current_page_index) = 5;'  # daily_forecast_page
  widgets:
    # Page Header
    - label:
        text: "9-Day Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Day 2 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 40
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day2_header
              text: "Day +2 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day2_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day2_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day2_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day2_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Day 3 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 340
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day3_header
              text: "Day +3 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day3_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day3_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day3_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day3_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Navigation button to access extended forecast (Days 4-10)
    - label:
        text: "More >"
        align: BOTTOM_MID
        y: -5
        text_font: montserrat_18
        text_color: my_gray
        text_align: CENTER

    - obj:
        id: nav_button_extended_forecast
        align: BOTTOM_MID
        x: 0
        y: 0
        width: 100
        height: 60
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Extended forecast 'More' button PRESSED!"
          - lvgl.page.show:
              id: forecast_days_4_5_page
              animation: OUT_LEFT
              time: 300ms

    - obj:
        id: nav_button_forecast
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "3-Day Forecast page nav button PRESSED!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms


  # Extended Forecast Pages (Days 4-10)
- id: forecast_days_4_5_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  skip: true
  on_load:
    - script.execute: page_transition_cleanup
  widgets:
    - label:
        text: "Extended Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Day 4 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 40
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day4_header
              text: "Day +4 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day4_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day4_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day4_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day4_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Day 5 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 340
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day5_header
              text: "Day +5 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day5_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day5_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day5_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day5_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Top-right button for main page navigation
    - obj:
        id: nav_button_top_45
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Days 4-5 top-right button PRESSED!"
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

    - label:
        text: "More >"
        align: BOTTOM_MID
        y: -5
        text_font: montserrat_18
        text_color: my_gray
        text_align: CENTER

    # # Navigation button (center of screen) - must be LAST to render on top
    # - obj:
    #     id: nav_button_forecast_45
    #     align: CENTER
    #     x: 0
    #     y: 0
    #     width: 150
    #     height: 150
    #     bg_opa: 0
    #     border_width: 0
    #     clickable: true
    #     on_press:
    #       - logger.log: "Days 4-5 CENTER button PRESSED - going to 6-7!"
    #       - lvgl.page.show:
    #           id: forecast_days_6_7_page
    #           animation: OUT_LEFT
    #           time: 300ms

    # Navigation button (bottom of screen) - must be LAST to render on top
    - obj:
        id: nav_button_extended_forecast_45
        align: BOTTOM_MID
        x: 0
        y: 0
        width: 100
        height: 60
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Extended forecast 'More' button on 4-5 PRESSED! going to 6-7!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.show:
              id: forecast_days_6_7_page
              animation: OUT_LEFT
              time: 300ms

- id: forecast_days_6_7_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  skip: true
  on_load:
    - script.execute: page_transition_cleanup
  widgets:
    - label:
        text: "Extended Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Day 6 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 40
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day6_header
              text: "Day +6 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day6_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day6_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day6_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day6_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Day 7 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 340
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day7_header
              text: "Day +7 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day7_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day7_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day7_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day7_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Top-right button for main page navigation
    - obj:
        id: nav_button_top_67
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Days 6-7 top-right button PRESSED!"
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

    - label:
        text: "More >"
        align: BOTTOM_MID
        y: -5
        text_font: montserrat_18
        text_color: my_gray
        text_align: CENTER

    # # Navigation button (center of screen) - must be LAST to render on top
    # - obj:
    #     id: nav_button_forecast_67
    #     align: CENTER
    #     x: 0
    #     y: 0
    #     width: 150
    #     height: 150
    #     bg_opa: 0
    #     border_width: 0
    #     clickable: true
    #     on_press:
    #       - logger.log: "Days 6-7 CENTER button PRESSED - going to 8-9!"
    #       - lvgl.page.show:
    #           id: forecast_days_8_9_page
    #           animation: OUT_LEFT
    #           time: 300ms

    # Navigation button (bottom of screen) - must be LAST to render on top
    - obj:
        id: nav_button_extended_forecast_67
        align: BOTTOM_MID
        x: 0
        y: 0
        width: 100
        height: 60
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Extended forecast 'More' button on 6-7 PRESSED! going to 8-9!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.show:
              id: forecast_days_8_9_page
              animation: OUT_LEFT
              time: 300ms

- id: forecast_days_8_9_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  skip: true
  on_load:
    - script.execute: page_transition_cleanup
  widgets:
    - label:
        text: "Extended Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Day 8 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 40
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day8_header
              text: "Day +8 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day8_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day8_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day8_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day8_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Day 9 Card
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: TOP_MID
        y: 340
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day9_header
              text: "Day +9 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day9_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day9_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day9_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day9_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Top-right button for main page navigation
    - obj:
        id: nav_button_top_89
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Days 8-9 top-right button PRESSED!"
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

    - label:
        text: "More >"
        align: BOTTOM_MID
        y: -5
        text_font: montserrat_18
        text_color: my_gray
        text_align: CENTER

    # # Navigation button (center of screen) - must be LAST to render on top
    # - obj:
    #     id: nav_button_forecast_89
    #     align: CENTER
    #     x: 0
    #     y: 0
    #     width: 150
    #     height: 150
    #     bg_opa: 0
    #     border_width: 0
    #     clickable: true
    #     on_press:
    #       - logger.log: "Days 8-9 CENTER button PRESSED - going to Day 10!"
    #       - lvgl.page.show:
    #           id: forecast_day_10_page
    #           animation: OUT_LEFT
    #           time: 300ms

     # Navigation button (bottom of screen) - must be LAST to render on top
    - obj:
        id: nav_button_extended_forecast_89
        align: BOTTOM_MID
        x: 0
        y: 0
        width: 100
        height: 60
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Extended forecast 'More' button on 8-9 PRESSED! going to 10!"
          - lambda: |-
              ESP_LOGI("touch", "Navigation button touched");
              id(last_auto_rotation_time) = millis();
              ESP_LOGD("touch", "Auto-rotation timer reset");
          - lvgl.page.show:
              id: forecast_day_10_page
              animation: OUT_LEFT
              time: 300ms

- id: forecast_day_10_page
  bg_color: 0x000000
  bg_opa: COVER
  scrollbar_mode: "OFF"
  skip: true
  on_load:
    - script.execute: page_transition_cleanup
  widgets:
    - label:
        text: "Extended Forecast"
        align: TOP_MID
        y: 5
        text_font: montserrat_18
        text_color: my_white
        text_align: CENTER

    # Day 10 Card (centered on page)
    - obj:
        width: 170
        height: SIZE_CONTENT
        align: CENTER
        y: 0
        bg_color: 0x101010
        bg_opa: COVER
        border_width: 0
        radius: 12
        pad_all: 12
        scrollbar_mode: "OFF"
        layout:
          type: flex
          flex_flow: column
          pad_row: 6
        widgets:
          - label:
              id: lbl_forecast_day10_header
              text: "Day +10 (--/--)"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day10_icon
              text: "--"
              text_font: icons_80
              text_color: my_white
          - label:
              id: lbl_forecast_day10_condition
              text: "---"
              text_font: montserrat_18
              text_color: my_white
              long_mode: SCROLL_CIRCULAR
          - label:
              id: lbl_forecast_day10_temps
              text: "H:--° L:--°"
              text_font: montserrat_18
              text_color: my_white
          - label:
              id: lbl_forecast_day10_precip_prob
              text: "Rain: --%"
              text_font: montserrat_16
              text_color: my_white

    # Navigation button (center bottom) - goes back to Days 2-3
    - obj:
        id: nav_button_forecast_10
        align: BOTTOM_MID
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Day 10 BOTTOM button PRESSED - going back to 3-day!"
          - lvgl.page.show:
              id: daily_forecast_page
              animation: OUT_RIGHT
              time: 300ms

    # Top-right button for main page navigation
    - obj:
        id: nav_button_top_10
        align: TOP_RIGHT
        x: 0
        y: 0
        width: 100
        height: 100
        bg_opa: 0
        border_width: 0
        clickable: true
        on_press:
          - logger.log: "Day 10 top-right button PRESSED!"
          - lvgl.page.next:
              animation: OUT_LEFT
              time: 300ms

# ===================================================================
